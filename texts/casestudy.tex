\section{Case Study}
\label{sec:casestudy}
A design and fabrication workshop was organized to examine the feasibility of our system with a specific design target and a location.
Prior to the workshop, we have adjusted the weights in Equation \ref{eq:score} manually to ensure that the feasibility of layouts is correlating to the scores (Figure \ref{fig:testlayouts}).
Through adjusting the game setting, we have built six target frames.


We selected a public community house where people in the community share the space and regularly use the facility.
Participants of the workshop were selected among them, who were four children (aged 4, 7, 9, and 10) and two parents (Figure~\ref{fig:workshop}).
We specifically selected children with this range of age as non-experts without experiences in computational design or digital fabrication, also for observing the clarity and attractiveness of the game.
The entire workshop was filmed and summarized in the supplementary video material.
During the game play, we collected following data per click: frame count, click count, selected branch, and poses of all the branches at the click.


The goal for the participants was to contribute to an ongoing design and fabrication process of screen wall (2000 $mm$ $\times$ 900 $mm$) consisting of eight rectangles (500 $mm$ $\times$ 450 $mm$).
Six frames were already designed and built, thus the rest two frames (6 and 7 in Figure \ref{fig:teaser}) were assigned for them to design and fabricate in this workshop.

Participants were informed about the goal of the workshop, and each process was introduced and supervised by an author.
The processes were from collecting and fixing the branches on a plate, scanning the plate, complete designs by playing the game, and assembly after CNC milling.

\begin{figure}[ht]
  \begin{center}
    \includegraphics[width = 0.4\paperwidth]{images/fabrication/workshop_setup.png}
    \caption{An overview of the workshop. 1. the overview of the space. 2. collect branches. 3. cut in certain lengths 4. attach on a plate 5. scan the plate 6. play the game 7. CNC milling.}
    \label{fig:workshop}
  \end{center}
\end{figure}

\subsection{User Experiences}
\subsubsection*{System and Hardware}
We used two iPad minis with iSense depth cameras attached for scanning branches, and a 3 axis CNC milling router with a 6 mm diameter milling bit.
We used a laptop PC for running \textit{Branch Importer} and \textit{G-Code generator}, as well as operating the milling machine.
The scan area of iSense camera is 500 $mm$ $\times$ 500 $mm$, and the milling machine's stroke length along z-axis is 70 $mm$, which provide geometric constraints for available branch sizes.
\textit{BranchConnect} was hosted at \textit{Heroku} cloud server \footnote{Heroku is a platform as a service (PaaS) that enables developers to build, run, and operate applications entirely in the cloud. \url{https://www.heroku.com/}},
and we used \textit{MongoDB} \footnote{MongoDB is a free and open-source cross-platform document-oriented database program. \url{https://www.mongodb.com/}} as a cloud database.

\subsubsection*{Branch collection}
The participants were asked to collect branches with 20 - 100 $mm$ in diameter.
The lower bound was for the milling bit size, and the upper bound was for the limited length of z-stroke of the CNC router.
The collected branches were cut in arbitrary lengths, not longer than 500 $mm$ due to the limit of scanning area.
As our game system and fabrication process take 3D branch shapes as 2D contours (with limited use of point cloud), we removed branches with large 3D twists.
The diameter and length constraints worked as guidelines for participants rather than restricting finding and cutting arbitrary branches.
The number of available branches per plate was different depending on branch sizes.
Within the feasible diameter of branches and the plate size, the number of available branches was mostly up to six (Figure \ref{fig:scannedplates}).

After cutting branches in certain lengths, participants fixed branches on plates by thin metal fixtures with screw holes.
After an instruction, participants successfully fixed branches by themselves.
%It was straightforward for them to firmly fix branches so that they are not moved during milling process.
%These fixture points are counted as invalid points in the game where joint points can not be generated.
They built two plates with three and five branches fixed on each plate.
The plate with three branches can not satisfy the game, however, we accepted for the participant's request.

After fixing branches on plates, we asked participants to scan them prepare feasible mesh model on iSence application running on iPad mini.
Thanks to the intuitive interface of iSense, participants practiced several scans and successfully scanned models without problem.
After obtaining mesh models, the author imported models from iPads to a laptop and uploaded them to the database by \textit{Branch Importer}.



\subsubsection*{Game Play}
%After models were uploaded to the server, participants could that their plates are added in the selectable branch plates with their names and locations.
As for more general user experiences with the game, Section \ref{sec:game} as well as the video material.
%Users could access to the start page by PC and mobile devices.
In this section, we describe more specific user experiences and feedback from participants.

%We prepared both options and let participants choose a device.
All participants used iPads for navigating pages and playing the game.
They had difficulties with mobile touch interface, such as rotation and flipping operation by gestures.
One participant switched to play by a PC for more precise control due to the problem.
Interestingly, all the participants chose to develop their own designs from scratch, although we have explained they can start with an existing design and modify it.

We had several requests from participants regarding the game interface but also related to the workshop organization.
Several participants requested to allow multiple branch plates for designing a frame, or even remove the target frame and let them freely design with branches.
Also one participant requested additional buttons for mobile touch interface, such as to keep an active branch selected.
%A participant with four years old failed to complete any frame.
%He insisted on accepting his design to be fabricated
A participant who built a plate with three branches spent most of the time with the plate.
%This was because the game rule was not fully instructed.
We accepted a layout of the plate with three branches, due to the participant's strong request.
%We took them as positive inputs to validate our participatory (architectural) design approach.
%A user is firstly directed to a start page and asked to submit a user name.
%Secondly, the user is navigated to target frame selection page, and asked to pick one out of eight frames.
%Each frame has different target points.
%The interface also shows the completed branch organizations within each target frame.
%If there are multiple designs, three designs with highest scores are displayed.
%The user can change the currently displayed design by clicking within each frame and choose either starting their design from scratch, or select the design and improve it.
%After selecting a target frame, the user goes to branch selection page, displaying 15 plates when the workshop was held.
%In this page, they saw the plates made by themselves on the page, as well as their names on the plate.
%The user can select the same plate for designing other target frames.
%By clicking a displayed branch plate, the user is navigated to the game interface.
%After completing to bridge all the target points, the design is automatically uploaded to the database, but the use can continue to design.


\subsubsection*{Global Design Consensus and Fabrication}
As the target frame selection page could display all the layout designs, we could get an overview of design options.
The layout designs were displayed in the descending order of scores with limited numbers (the top three highest scores for each target frame), we could easily find feasible layout designs with almost all the target points were bridged.
As participants were excited by seeing their branches and designs, we accepted two invalid layouts and one plate which did not have enough branches for the global design.
%
%\subsubsection*{Fabrication}
After selecting layouts, the author operates \textit{G-Code Generator} as well as the CNC router.
Participants were asked to assembly branches after they were milled.

\subsection{Results}


The entire workshop took 4.6 $hours$ to complete the whole process, including introduction, moving, and pauses.
Table below shows durations of each task.

\begin{center}
  \begin{tabulary}{\columnwidth}{ |l||C|C| }
    \hline
    Task & Duration ($hour$) & Fraction ($\%$) \\
    \hline
    Introduction                  & 0.3 & 6.5  \\
    Collecting branches           & 0.6 & 13.0  \\
    Preparing plates              & 0.8 & 17.4  \\
    Preparing models              & 0.3 & 6.5  \\
    Uploading models              & 0.2 & 4.3 \\
    Designing by the game         & 0.5 & 10.8 \\
    Inspecting models             & 0.2 & 4.3 \\
    CNC milling                   & 0.5 & 10.8\\
    Assembling                    & 0.2 & 4.3 \\
    Moving, pauses               & 1.0 & 21.7 \\
    \hline
    In total                      & 4.6   & 100 \\
    \hline
  \end{tabulary}
  \label{tab:timing}
\end{center}



\subsubsection*{Model Acquisition}
Each scanning and re-touching took 2-3 $minutes$, and 30 $seconds$ for generating data by \textit{Branch Importer}.
Including the prepared panels previously, we scanned 15 plates in total, 75 branches, and 35.3 $m$ of total length including sub-branches.
We got 59 branches with a single skeleton, 16 branches with multiple skeletons for grafting.
The result is shown in Figure \ref{fig:scannedplates}.

\begin{figure}[ht]
  \begin{center}
    \includegraphics[width = 0.4\paperwidth]{images/fabrication/all_plates.png}
    \caption{An overview of all the 15 scanned plates for the construction of the fence. Top raw of each set shows ortho-top views of scanned mesh models, and the bottom raw is the detected contours of branches with randomly assigned colors. The red-lined rectangles indicate the plates built by participants in the workshop.}
    \label{fig:scannedplates}
  \end{center}
\end{figure}


\subsubsection*{Design with the Game}

We set the weight coefficients in Equation \ref{eq:score} as follows.
\begin{center}
	\begin{tabulary}{\columnwidth}{ |C||C|C|C|C|C| }
		\hline
		weigths & $w_1$ & $w_2$ & $w_3$ & $w_4$ & $w_5$ \\
		\hline
		our setting & 100 & -100 & -1000 & 500 & -5 \\
		\hline
	\end{tabulary}
	\label{tab:weights}
\end{center}

Figure \ref{fig:testlayouts} shows 32 example layouts designed by the authors prior to the workshop to see the correlation between scores and layouts.
We set 30 $minutes$ for playing the game, including practicing the game.
We received 27 layouts in total from six participants.
Participants could not complete the assigned frame with branch plates built by them in this workshop.
The total playing time by all participants was 31.5 $minutes$.
Five plates were completed, meaning that all the target points were bridged (Figure \ref{fig:layouts}).
Average score was 2018.1, average time spent per layout was 71.4 $seconds$, and average click count was 48.5.

\begin{figure}[ht]
	\begin{center}
		\includegraphics[width = 0.4\paperwidth]{images/fabrication/designs_score.png}
		\caption{Example layouts by the authors in score-descending order. The highest score is top-left and the lowest score is bottom-right.}
		\label{fig:testlayouts}
	\end{center}
\end{figure}

\begin{figure}[ht]
	\begin{center}
		\includegraphics[width = 0.4\paperwidth]{images/fabrication/casestudy.pdf}
		\caption{The five completed layouts by participants. The number on top left indicates each score, and the bottom left is the frame number (see also Figure 1 right top).   }
		\label{fig:layouts}
	\end{center}
\end{figure}

\subsubsection*{Fabrication}
We observed most of scanned models had occluded regions between plates and branches, which created interpolated faces after surface reconstruction by iSense application, resulting in outwardly offsetted contours. After milling was finished and when branches were assembled, six pairs of branches were loosely connected because the calculated contours were 2-3 $mm$ eroded than the actual sizes.
We avoided this problem by trimming branches from 2-5 $mm$ higher than the plate surface.
After this operation, the rest of connections were tightly connected. \\

We also observed that many milling paths were 5-10 $mm$ off from where they were planned.
Multiple reasons could be considered as follows: 1. deformation of mechanical parts of the CNC router. 2. not dense resolution of acquired contours of branches. 3. misaligned orientation of the plate compared to the scanned model.
To avoid the misalignments, we modified the \textit{G-Code Generator} so that an operator can freely adjust the absolute origin of generated milling paths per plate.
Before the modification, an origin was set at the bottom left corner of plates.
After the modification, it became easier to reset the origin in case of large misalignments, however, the origin set at the center of plate was good enough for our purpose.
After this modification, misalignments stayed within 3 $mm$.
Branches could absorb 3-5 $mm$ misaligned joint positions due to the elasticity of branches, which also solidifies the structure.
 % with residual stresses from the misalignments.
% The misaligned joint positions worked as post-tensions, solidifying the structure.
% We assume that this is only applicable when an applied bending moment and cut surface at a joint is orthogonal or not too much off from orthogonal. \todo{this sentence}
